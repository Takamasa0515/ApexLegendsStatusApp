<header class="bg-primary bg-gradient text-white">
  <div class="container px-4">
    <div class="boxshadow">
      <h2 class="container-h2">ログイン</h2>
      <%= form_with model: @user, url: user_session_path, id: 'new_user', class: 'new_user', local: true do |f| %>
        <div class="devise">
        <%= render "devise/shared/error_messages", resource: resource %>
          <div class="devise-form">
            <div class="field">
              <%= f.label :email, class: "devise-label" %><br />
              <%= f.email_field :email, autofocus: true, autocomplete: "email", class: "devise-field" %>
            </div>
            <div class="field">
              <%= f.label :password, class: "devise-label"  %><br />
              <%= f.password_field :password, autocomplete: "current-password", class: "devise-field" %>
            </div>
            <% if devise_mapping.rememberable? %>
              <div class="checkbox">
                <%= f.check_box :remember_me %>
                <%= f.label :remember_me %>
              </div>
            <% end %>
            <%= f.check_box :show_password, id: "switch-btn", onclick: "showPassword()" %>
            <%= f.label :show_password, "パスワードを表示する" %>
            <script>
              function showPassword() {
                const textPass = document.getElementById("user_password");
                const btnPass = document.getElementById("switch-btn");
                if (textPass.type === "text") {
                  textPass.type = "password";
                  btnPass.value = "表示";
                } else {
                  textPass.type = "text";
                  btnPass.value = "非表示";
                }
              }
            </script>
          </div>
          <div class="actions">
            <%= f.submit "ログインする", class: "btn-dark btn-lg btn btn-border-color-white" %>
          </div>
        </div>
      <% end %>
      <hr class="hr-white">
      <div>
        <p>アカウントをお持ちでない場合は、<%= link_to "こちらから新規作成", new_registration_path(resource_name), class: "custom-link" %>してください。</p>
        <p>パスワードを忘れた場合は<%= link_to "こちらから再設定", new_password_path(resource_name), class: "custom-link" %>してください。</p>
      </div>
    </div>
  </div>
</header>

<%= javascript_tag "devise/login" %>
